<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹¸è¿æŠ½å–</title>
    <style>
        /* --- å…¨å±€æ ·å¼ï¼šé»‘ç™½æç®€é£æ ¼ --- */
        body {
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            color: #000000;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            perspective: 1000px; 
        }

        /* --- é¡¶éƒ¨ï¼šå¤´åƒåŒºåŸŸ --- */
        .top-section {
            height: 250px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .avatar-container {
            width: 200px;
            height: 200px;
            border-radius: 30px; 
            overflow: hidden;
            border: 4px solid #000;
            opacity: 0; 
            transform: scale(0.8); 
            transition: all 0.3s ease; 
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .avatar-container.show {
            opacity: 1;
            transform: scale(1);
        }

        /* Hover æ—‹è½¬ç‰¹æ•ˆ */
        .avatar-container:hover {
            transform: rotate(15deg) scale(1.1); 
            transition: transform 0.4s ease-in-out;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }
        
        /* --- æŠ½å¡åŠ¨ç”»ï¼šç¿»è½¬ä¸¤åœˆ --- */
        .avatar-container.card-animate {
            transition: none; 
            opacity: 1 !important;
            animation: card-flip 1.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            animation-fill-mode: forwards; 
        }
        
        @keyframes card-flip {
            0% { transform: scale(0.5) rotateY(0deg) rotateZ(-10deg); opacity: 0; }
            40% { transform: scale(1.1) rotateY(360deg) rotateZ(5deg); opacity: 1; } 
            70% { transform: scale(1.05) rotateY(720deg) rotateZ(-2deg); } 
            100% { transform: scale(1) rotateY(720deg) rotateZ(0deg); opacity: 1; } 
        }

        /* --- å…‰æ•ˆ --- */
        .glow-rare { 
            box-shadow: 0 0 15px rgba(0, 191, 255, 0.7), 0 0 30px rgba(0, 191, 255, 0.5);
            border-color: rgba(0, 191, 255, 0.8) !important;
        }
        .glow-epic { 
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.7), 0 0 30px rgba(138, 43, 226, 0.5);
            border-color: rgba(138, 43, 226, 0.8) !important;
        }
        .glow-legend { 
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.9), 0 0 30px rgba(255, 215, 0, 0.7);
            border-color: rgba(255, 215, 0, 0.9) !important;
        }

        .avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
        }
        
        /* --- ä¸­é—´/åº•éƒ¨æ ·å¼ --- */
        .middle-section {
            margin-bottom: 40px;
            text-align: center;
            height: 80px; 
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #name-display {
            font-size: 48px;
            font-weight: 800;
            letter-spacing: 2px;
            padding: 10px 40px;
            border-radius: 20px;
            background-color: #f7f7f7;
            border: 2px solid #eee;
            min-width: 300px;
            
            /* ã€æ–°å¢/ä¿®æ”¹ã€‘ä¸ºäº†å®ç°æ›¿æ¢åŠ¨ç”»ï¼Œéœ€è¦ç¡®ä¿æº¢å‡ºè¢«è£å‰ª */
            overflow: hidden; 
            /* å¿…é¡»æ˜¯ç›¸å¯¹å®šä½ï¼Œæ‰èƒ½ä½¿ç”¨ç»å¯¹å®šä½çš„ä¼ªå…ƒç´ æˆ–å­å…ƒç´ åŠ¨ç”»ï¼Œ
               è™½ç„¶è¿™é‡Œç›´æ¥åŠ¨ç”»å®¹å™¨ï¼Œä½†ç¡®ä¿ transform ç”Ÿæ•ˆ */
            position: relative; 
        }

        /* --- ã€æ–°å¢ã€‘åå­—åˆ‡æ¢åŠ¨ç”»ï¼šå‘ä¸Šé¡¶æ‰æ•ˆæœ --- */
        @keyframes slideOutUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100%); opacity: 0; }
        }

        @keyframes slideInUp {
            0% { transform: translateY(100%); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .slide-out-up {
            /* 0.2ç§’æ»‘å‡º */
            animation: slideOutUp 0.2s ease-in forwards; 
        }
        .slide-in-up {
            /* 0.3ç§’æ»‘å…¥ */
            animation: slideInUp 0.3s ease-out forwards;
        }

        /* --- åº•éƒ¨æŒ‰é’®æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰--- */
        .bottom-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        button {
            background-color: #000;
            color: #fff;
            border: none;
            padding: 15px 50px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px; 
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        button:hover {
            background-color: #333;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        button:active {
            transform: translateY(0);
        }

        /* --- æ˜¾ç¤ºåŸåæŒ‰é’® (å®ç°å¹³æ»‘è¿‡æ¸¡) --- */
        #btn-reveal {
            background-color: #fff;
            color: #000;
            border: 2px solid #000;
            
            /* åˆå§‹éšè—çŠ¶æ€ï¼šé€šè¿‡ opacity å’Œ visibility éšè— */
            opacity: 0;
            visibility: hidden;
            /* åˆå§‹ä½ç½®ï¼šå‘ä¸‹ç§»åŠ¨ï¼Œå‡†å¤‡å‘ä¸Šæ»‘å…¥ */
            transform: translateY(20px); 
            
            /* å¯ç”¨è¿‡æ¸¡åŠ¨ç”» */
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); 

            /* ä¿æŒæŒ‰é’®æœ¬èº«çš„å¤–è§‚æ ·å¼ */
            padding: 15px 50px; 
            border-radius: 50px; 
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        #btn-reveal:hover {
            background-color: #f0f0f0;
        }

        /* æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€ç±» */
        .reveal-show {
            opacity: 1 !important;
            visibility: visible !important;
            transform: translateY(0) !important; /* å½’ä½ï¼Œå®ç°ä¸Šæ»‘æ•ˆæœ */
        }

    </style>
</head>
<body>

    <div class="top-section">
        <div class="avatar-container" id="avatar-box">
            <img src="" alt="Avatar" class="avatar-img" id="avatar-img">
        </div>
    </div>

    <div class="middle-section">
        <div id="name-display">å‡†å¤‡å°±ç»ª</div>
    </div>

    <div class="bottom-section">
        <button id="btn-main">å¼€å§‹æ»šåŠ¨</button>
        <button id="btn-reveal">æ˜¾ç¤ºåŸå</button>
    </div>

    <script>
        // --- 1. æ•°æ®é…ç½®åŒºåŸŸ ---
        const database = [
            // æ³¨æ„ï¼šä½ çš„æ•°æ®å·²ä½¿ç”¨ï¼Œå¦‚æœéœ€è¦æ›´æ¢è¯·æ›¿æ¢æ­¤æ•°ç»„
            { nickname: "é’è¡Œå½’", realname: "è‰¾ç‚œæ°", avatarUrl: "https://pic1.imgdb.cn/item/6932846ad1e741a32bf1b9da.jpg" },
            { nickname: "Tiamo", realname: "è‰¾æ–‡åš", avatarUrl: "https://pic1.imgdb.cn/item/6932846ad1e741a32bf1b9dc.jpg" },
            { nickname: "blue IHrNm", realname: "æ›¹ç‘¾ç‘œ", avatarUrl: "https://pic1.imgdb.cn/item/6932846ad1e741a32bf1b9db.jpg" },
            { nickname: "é™³é£", realname: "é™ˆæ—éœ„", avatarUrl: "https://pic1.imgdb.cn/item/6932846ad1e741a32bf1b9dd.jpg" },
            { nickname: "ç”°ç”°å°å½±å­", realname: "é™ˆèå½±", avatarUrl: "https://pic1.imgdb.cn/item/6932846ad1e741a32bf1b9d9.jpg" },
            { nickname: "CzX", realname: "é™ˆåœ¨èŠ¯", avatarUrl: "https://pic1.imgdb.cn/item/69328473d1e741a32bf1b9eb.jpg" },
            { nickname: "ğŸ¤", realname: "ç¨‹æ©æ³½", avatarUrl: "https://pic1.imgdb.cn/item/69328473d1e741a32bf1b9ec.jpg" },
            { nickname: "Il sole.", realname: "é‚“æ·¼", avatarUrl: "https://pic1.imgdb.cn/item/69328473d1e741a32bf1b9ed.jpg" },
            { nickname: "pit pony", realname: "é‚“è§æ™“", avatarUrl: "https://pic1.imgdb.cn/item/69328473d1e741a32bf1b9ee.jpg" },
            { nickname: "ç™½ç‹—é»‘", realname: "å†¯éº’éœ", avatarUrl: "https://pic1.imgdb.cn/item/69328435d1e741a32bf1b991.jpg" },
            { nickname: "é«˜å†·äººå£«æ²¡æœ‰å¾®ä¿¡", realname: "é«˜æ¶µäºˆ", avatarUrl: "https://api.dicebear.com/7.x/identicon/svg?seed=Felix" },
            { nickname: "æ³±æ³±æ¸…æ½­", realname: "é«˜ä¸€æ·³", avatarUrl: "https://pic1.imgdb.cn/item/69328477d1e741a32bf1b9f6.jpg" },
            { nickname: "èåœä¸æ¯”å°”", realname: "è¾œå­™é›¨è¾°", avatarUrl: "https://pic1.imgdb.cn/item/69328477d1e741a32bf1b9f9.jpg" },
            { nickname: "æ¬§çš‡çŸ¥åº•", realname: "ä½•å®œå˜‰", avatarUrl: "https://pic1.imgdb.cn/item/69328436d1e741a32bf1b993.jpg" },
            { nickname: "åƒ", realname: "éŸ©é“­æ°", avatarUrl: "https://pic1.imgdb.cn/item/69328477d1e741a32bf1b9f7.jpg" },
            { nickname: "æ­¥æ³•é¹…", realname: "è¡¡æ˜Ÿç™", avatarUrl: "https://pic1.imgdb.cn/item/69328477d1e741a32bf1b9f7.jpg" },
            { nickname: "æƒ…å•†å·…å³°æ—¶æœŸ", realname: "èƒ¡é“¸", avatarUrl: "https://pic1.imgdb.cn/item/6932847ed1e741a32bf1ba05.jpg" },
            { nickname: "é»„å°å¦¹", realname: "é»„å½¦æ´", avatarUrl: "https://pic1.imgdb.cn/item/6932847ed1e741a32bf1ba02.jpg" },
            { nickname: "æ— æ™.", realname: "æå®‰ç„¶", avatarUrl: "https://pic1.imgdb.cn/item/6932847ed1e741a32bf1ba01.jpg" },
            { nickname: "Touma Kazusa", realname: "ææŸ¯é”¦", avatarUrl: "https://pic1.imgdb.cn/item/6932847ed1e741a32bf1ba03.jpg" },
            { nickname: "Camilla", realname: "ææ—è”š", avatarUrl: "https://pic1.imgdb.cn/item/6932847ed1e741a32bf1ba04.jpg" },
            { nickname: "Eschatology", realname: "å»–å®¶å˜‰", avatarUrl: "https://pic1.imgdb.cn/item/69328489d1e741a32bf1ba10.jpg" },
            { nickname: "æœ‰æ‚ ", realname: "å»–è½©æµ©", avatarUrl: "https://pic1.imgdb.cn/item/69328489d1e741a32bf1ba12.jpg" },
            { nickname: "åˆ˜è½©", realname: "åˆ˜è½©", avatarUrl: "https://pic1.imgdb.cn/item/69328435d1e741a32bf1b98d.jpg" },
            { nickname: "è½©ğŸƒğŸ€", realname: "å•å­è½©", avatarUrl: "https://pic1.imgdb.cn/item/69328435d1e741a32bf1b992.jpg" },
            { nickname: "æ½æ˜Ÿæ²³", realname: "é©¬æ˜Ÿç¿", avatarUrl: "https://pic1.imgdb.cn/item/69328489d1e741a32bf1ba11.jpg" },
            { nickname: "å°å¤©æ‰æå®", realname: "å½­æ¸ä¸­", avatarUrl: "https://pic1.imgdb.cn/item/6932848fd1e741a32bf1ba1a.jpg" },
            { nickname: "æˆ‘åˆä¸æ˜¯è‹¦åŠ›", realname: "å”è±è”š", avatarUrl: "https://pic1.imgdb.cn/item/693286fdd1e741a32bf1bd63.jpg" },
            { nickname: "å°ç‹åœ¨æ­¤åˆ»", realname: "ç‹çˆ±é˜³", avatarUrl: "https://pic1.imgdb.cn/item/6932848fd1e741a32bf1ba1b.jpg" },
            { nickname: "æ¶µ", realname: "ç‹ä¹™æ¶µ", avatarUrl: "https://pic1.imgdb.cn/item/6932848fd1e741a32bf1ba19.jpg" },
            { nickname: "ä¸€åŒ—æå…‰", realname: "ç‹æ‡¿", avatarUrl: "https://pic1.imgdb.cn/item/6932848fd1e741a32bf1ba1c.jpg" },
            { nickname: "q7l12", realname: "ç‹é¢–è±", avatarUrl: "https://pic1.imgdb.cn/item/6932848fd1e741a32bf1ba1d.jpg" },
            { nickname: "Hello", realname: "ç‹èµæ°", avatarUrl: "https://pic1.imgdb.cn/item/69328494d1e741a32bf1ba23.jpg" },
            { nickname: "Tachibana Kousuke", realname: "éŸ¦æ™¯çš“", avatarUrl: "https://pic1.imgdb.cn/item/69328494d1e741a32bf1ba21.jpg" },
            { nickname: "Anonymous", realname: "é­ç†™èŠ®", avatarUrl: "https://pic1.imgdb.cn/item/69328494d1e741a32bf1ba25.jpg" },
            { nickname: "æ–‡ä¸‰", realname: "æ–‡æ€ç¿", avatarUrl: "https://pic1.imgdb.cn/item/69328494d1e741a32bf1ba22.jpg" },
            { nickname: "WCSDM", realname: "å´å‘ç‰", avatarUrl: "https://pic1.imgdb.cn/item/69328435d1e741a32bf1b98f.jpg" },
            { nickname: "è¥¿ç“œåˆ¨å†°", realname: "é²œå“å½¤", avatarUrl: "https://pic1.imgdb.cn/item/69328499d1e741a32bf1ba29.jpg" },
            { nickname: "æƒŸæ¥šæœ‰æ‰", realname: "å¾æ¥šçƒ¦", avatarUrl: "https://pic1.imgdb.cn/item/69328499d1e741a32bf1ba2b.jpg" },
            { nickname: "ç»­å™åº", realname: "å¾å­æ’", avatarUrl: "https://pic1.imgdb.cn/item/69328499d1e741a32bf1ba2c.jpg" },
            { nickname: "æ—‹è½¬â„ƒçš„æ—¶å…‰", realname: "æ¨æˆå®‡", avatarUrl: "https://pic1.imgdb.cn/item/69328499d1e741a32bf1ba2a.jpg" },
            { nickname: "Nernst", realname: "æ¨è‹¥é›·", avatarUrl: "https://pic1.imgdb.cn/item/69328499d1e741a32bf1ba2d.jpg" },
            { nickname: "é¼ äº†", realname: "æ¨å®£æµ©", avatarUrl: "https://pic1.imgdb.cn/item/6932849cd1e741a32bf1ba31.jpg" },
            { nickname: "é›é¸£", realname: "æ¨æ‡¿", avatarUrl: "https://pic1.imgdb.cn/item/6932849cd1e741a32bf1ba34.jpg" },
            { nickname: "Ray", realname: "å¼ æ·™ç¿", avatarUrl: "https://pic1.imgdb.cn/item/6932849cd1e741a32bf1ba32.jpg" },
            { nickname: "ä¸è¡€åè™¾é—°åœŸçš„çŒ¹", realname: "å¼ æ¢“è½©", avatarUrl: "https://pic1.imgdb.cn/item/6932849cd1e741a32bf1ba35.jpg" },
            { nickname: "AQ", realname: "èµµæ½œ", avatarUrl: "https://pic1.imgdb.cn/item/6932849cd1e741a32bf1ba33.jpg" },
            { nickname: "(ï¼ï¼œ)", realname: "èµµç§‹ç‰", avatarUrl: "https://pic1.imgdb.cn/item/693284a1d1e741a32bf1ba3a.jpg" },
            { nickname: "Zfang", realname: "éƒ‘æ”¾", avatarUrl: "https://pic1.imgdb.cn/item/693284a1d1e741a32bf1ba3c.jpg" },
            { nickname: "Emmanuel", realname: "å‘¨æŸ¯è¿", avatarUrl: "https://pic1.imgdb.cn/item/69328435d1e741a32bf1b98e.jpg" },
            { nickname: "y", realname: "é‚¹å¤©æ°", avatarUrl: "https://pic1.imgdb.cn/item/693284a1d1e741a32bf1ba3b.jpg" },
        ];
        
        const glowClasses = ['glow-rare', 'glow-epic', 'glow-legend'];

        // --- 2. å˜é‡å®šä¹‰ ---
        const nameDisplay = document.getElementById('name-display');
        const btnMain = document.getElementById('btn-main');
        const btnReveal = document.getElementById('btn-reveal');
        const avatarBox = document.getElementById('avatar-box');
        const avatarImg = document.getElementById('avatar-img');

        let isRolling = false;
        let timer = null;
        let selectedUser = null; 
        
        // ã€å·²ä¿®æ”¹ã€‘çŠ¶æ€å˜é‡ï¼šè¿½è¸ªå½“å‰æ˜¾ç¤ºçš„æ˜¯å¦æ˜¯çœŸå®å§“å
        let isRealNameShowing = false; 

        // --- 3. æ ¸å¿ƒé€»è¾‘ ---

        btnMain.addEventListener('click', function() {
            if (!isRolling) {
                startRolling();
            } else {
                stopRolling();
            }
        });

        // ã€å·²ä¿®æ”¹ã€‘btnReveal çš„äº‹ä»¶ç›‘å¬å‡½æ•°ï¼šåŒ…å«åŠ¨ç”»å’Œåˆ‡æ¢é€»è¾‘
        btnReveal.addEventListener('click', function() {
            if (!selectedUser) return;

            // 1. ç§»é™¤å¯èƒ½æ®‹ç•™çš„åŠ¨ç”»ï¼Œå¹¶è§¦å‘ "æ»‘å‡º" åŠ¨ç”»
            nameDisplay.classList.remove('slide-in-up'); 
            nameDisplay.classList.add('slide-out-up');

            // ç¡®å®šåŠ¨ç”»ç»“æŸåçš„æ–°å†…å®¹å’ŒçŠ¶æ€
            const isNowShowingRealName = !isRealNameShowing;
            const newText = isNowShowingRealName ? selectedUser.realname : selectedUser.nickname;
            const newButtonText = isNowShowingRealName ? "æ˜¾ç¤ºç½‘å" : "æ˜¾ç¤ºåŸå";
            const newBgColor = isNowShowingRealName ? "#e0e0e0" : "#f7f7f7";
            const newBorderColor = isNowShowingRealName ? "#000" : "#eee";

            // 2. ç­‰å¾…æ»‘å‡ºåŠ¨ç”»å®Œæˆ (0.2ç§’)ï¼Œç„¶åæ›´æ¢å†…å®¹å¹¶è§¦å‘ "æ»‘å…¥"
            setTimeout(() => {
                // A. æ¸…ç†æ»‘å‡ºç±»
                nameDisplay.classList.remove('slide-out-up');

                // B. æ›¿æ¢å†…å®¹å’Œæ ·å¼
                nameDisplay.innerText = newText;
                btnReveal.innerText = newButtonText;
                nameDisplay.style.backgroundColor = newBgColor;
                nameDisplay.style.borderColor = newBorderColor;
                isRealNameShowing = isNowShowingRealName; // æ›´æ–°çŠ¶æ€

                // C. è§¦å‘æ»‘å…¥åŠ¨ç”»
                nameDisplay.classList.add('slide-in-up');

                // 3. ç­‰å¾…æ»‘å…¥åŠ¨ç”»å®Œæˆ (0.3ç§’)ï¼Œç„¶åæ¸…ç†æ»‘å…¥ç±»
                setTimeout(() => {
                    // ç§»é™¤åŠ¨ç”»ç±»ï¼Œè®©å…ƒç´ å›åˆ°å¸¸è§„çŠ¶æ€
                    nameDisplay.classList.remove('slide-in-up');
                }, 300); 

            }, 200); // å¿…é¡»åŒ¹é… slideOutUp åŠ¨ç”»çš„æŒç»­æ—¶é—´
        });

        function startRolling() {
            isRolling = true;
            btnMain.innerText = "æŠ½å–";
            
            // æ¸…ç†æ—§çš„åŠ¨ç”»å’Œå…‰æ•ˆç±»
            avatarBox.className = 'avatar-container'; 
            btnReveal.classList.remove('reveal-show');
            
            // ã€æ–°å¢ã€‘æ¸…ç†åå­—æ¡†å¯èƒ½æ®‹ç•™çš„åŠ¨ç”»ç±»
            nameDisplay.classList.remove('slide-out-up', 'slide-in-up');

            // ã€å·²ä¿®æ”¹ã€‘é‡ç½®åŸåæ˜¾ç¤ºçŠ¶æ€å’ŒæŒ‰é’®æ–‡æœ¬
            btnReveal.innerText = "æ˜¾ç¤ºåŸå"; 
            isRealNameShowing = false; 
            
            nameDisplay.style.backgroundColor = "#f7f7f7";
            nameDisplay.style.borderColor = "#eee";

            timer = setInterval(() => {
                const randomIndex = Math.floor(Math.random() * database.length);
                nameDisplay.innerText = database[randomIndex].nickname;
            }, 50); 
        }

        function stopRolling() {
            isRolling = false;
            btnMain.innerText = "å¼€å§‹æ»šåŠ¨";
            clearInterval(timer);

            const finalIndex = Math.floor(Math.random() * database.length);
            selectedUser = database[finalIndex];

            // 1. æ˜¾ç¤ºé€‰ä¸­çš„ç½‘å
            nameDisplay.innerText = selectedUser.nickname;

            // 2. è®¾ç½®å¤´åƒå¹¶åº”ç”¨æŠ½å¡åŠ¨ç”»å’Œå…‰æ•ˆ
            avatarImg.src = selectedUser.avatarUrl;
            
            const randomGlow = glowClasses[Math.floor(Math.random() * glowClasses.length)];
            
            avatarBox.classList.add('card-animate');
            avatarBox.classList.add(randomGlow);

            setTimeout(() => {
                avatarBox.classList.remove('card-animate');
                avatarBox.classList.add('show');
            }, 1800);

            // 3. æ˜¾ç¤ºâ€œæ˜¾ç¤ºåŸåâ€æŒ‰é’® (å¹³æ»‘æ˜¾ç¤º)
            setTimeout(() => {
                btnReveal.classList.add('reveal-show'); // ä½¿ç”¨ class å®ç°å¹³æ»‘è¿‡æ¸¡
            }, 1000); 
        }
    </script>
</body>
</html>
